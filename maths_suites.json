{
  "title": "Suites Numériques (Niveau Expert)",
  "level": 8,
  "flashcards": [
    {
      "q": "Définition : Qu'est-ce qu'une suite définie de façon explicite ?",
      "answers": ["C'est une suite où chaque terme $u_n$ est exprimé directement en fonction de $n$ (ex: $u_n = f(n)$). On peut calculer n'importe quel terme sans connaître les précédents."],
      "hints": ["Contraire de récurrence.", "Pas besoin de boucle pour calculer $u_{100}$."],
      "points": 10
    },
    {
      "q": "Quelle est la méthode pour étudier les variations d'une suite quelconque ?",
      "answers": ["On étudie le signe de la différence $u_{n+1} - u_n$. Si $>0$, croissante. Si $<0$, décroissante."],
      "hints": ["Ne dérivez pas par rapport à n !", "C'est la méthode universelle."],
      "points": 10
    },
    {
      "q": "Si $u_n > 0$, quelle autre méthode peut-on utiliser pour les variations ?",
      "answers": ["On compare le rapport $\\frac{u_{n+1}}{u_n}$ par rapport à 1. Si $>1$, croissante (car $u_n > 0$)."],
      "hints": ["Utile pour les puissances et factorielles.", "Attention, il faut prouver que les termes sont positifs avant."],
      "points": 12
    },
    {
      "q": "Donnez la formule explicite d'une suite arithmétique de raison $r$ et de premier terme $u_0$.",
      "answers": ["$u_n = u_0 + n \\cdot r$"],
      "hints": ["C'est une fonction affine de variable n.", "On ajoute n fois la raison."],
      "points": 8
    },
    {
      "q": "Donnez la formule explicite d'une suite géométrique de raison $q$ et de premier terme $u_p$.",
      "answers": ["$u_n = u_p \\cdot q^{(n-p)}$"],
      "hints": ["Attention si on ne part pas de 0.", "C'est une puissance."],
      "points": 10
    },
    {
      "q": "Somme arithmétique : $S = 1 + 2 + ... + n$. Formule ?",
      "answers": ["$S_n = \\frac{n(n+1)}{2}$"],
      "hints": ["L'histoire du petit Gauss.", "Nombre de termes x moyenne des extrêmes."],
      "points": 10
    },
    {
      "q": "Somme géométrique : $1 + q + q^2 + ... + q^n$. Formule ?",
      "answers": ["$\\frac{1 - q^{n+1}}{1 - q}$ (pour $q \\neq 1$)"],
      "hints": ["Il y a n+1 termes.", "La formule est (1 - raison^nombre) / (1 - raison)."],
      "points": 10
    },
    {
      "q": "Quelle est la limite de $q^n$ si $q > 1$ ?",
      "answers": ["$\\lim_{n \\to +\\infty} q^n = +\\infty$"],
      "hints": ["La suite grandit exponentiellement.", "Exemple : $2^n$."],
      "points": 8
    },
    {
      "q": "Quelle est la limite de $q^n$ si $-1 < q < 1$ ?",
      "answers": ["$\\lim_{n \\to +\\infty} q^n = 0$"],
      "hints": ["On multiplie par un nombre petit.", "Exemple : $0,5^n$."],
      "points": 8
    },
    {
      "q": "Une suite bornée est-elle nécessairement convergente ?",
      "answers": ["Non. Exemple : $u_n = (-1)^n$ est bornée entre -1 et 1 mais oscille indéfiniment."],
      "hints": ["Pensez à une suite qui alterne.", "Convergence demande une limite unique."],
      "points": 12
    }
  ],
  "quiz": [
    {
      "type": "mcq",
      "q": "Si $u_{n+1} = u_n + 2n + 1$, la suite est :",
      "options": ["Arithmétique", "Géométrique", "Ni l'une ni l'autre"],
      "answer": 2,
      "explanation": "La différence $u_{n+1}-u_n = 2n+1$ n'est pas constante (elle dépend de n).",
      "points": 10
    },
    {
      "type": "mcq",
      "q": "Quel algorithme Python calcule le plus petit $n$ tel que $u_n > 1000$ (suite croissante) ?",
      "options": [
        "while u <= 1000: n=n+1",
        "if u > 1000: return n",
        "for i in range(1000): u=u+1"
      ],
      "answer": 0,
      "explanation": "On utilise une boucle TANT QUE la condition n'est pas atteinte. C'est un algorithme de seuil.",
      "points": 12
    },
    {
      "type": "open",
      "q": "Combien de termes dans la somme $u_{10} + ... + u_{50}$ ?",
      "expected_keywords": ["41"],
      "explanation": "$50 - 10 + 1 = 41$ termes.",
      "points": 8
    },
    {
      "type": "mcq",
      "q": "Une suite arithmétique a pour raison $r = -2$. Elle est :",
      "options": ["Croissante", "Décroissante", "Non monotone"],
      "answer": 1,
      "explanation": "On ajoute un nombre négatif à chaque étape, donc on descend.",
      "points": 8
    },
    {
      "type": "mcq",
      "q": "Soit $u_n = 3 \\times 2^n$. Alors $u_{n+1} / u_n$ vaut :",
      "options": ["2", "3", "6"],
      "answer": 0,
      "explanation": "$u_{n+1} = 3 \\times 2^{n+1} = 3 \\times 2^n \\times 2 = 2 u_n$. La raison est 2.",
      "points": 10
    },
    {
      "type": "open",
      "q": "Si une suite géométrique a $u_2=4$ et $u_4=16$ (termes positifs), que vaut la raison $q$ ?",
      "expected_keywords": ["2"],
      "explanation": "$u_4 = u_2 \\times q^2$. Donc $16 = 4q^2 \\implies q^2 = 4$. Comme termes positifs, $q=2$.",
      "points": 14
    },
    {
      "type": "mcq",
      "q": "La suite $u_n = \\frac{n+1}{n}$ pour $n \\ge 1$ est :",
      "options": ["Croissante", "Décroissante", "Constante"],
      "answer": 1,
      "explanation": "$u_n = 1 + 1/n$. La fonction inverse est décroissante sur les positifs.",
      "points": 12
    },
    {
      "type": "open",
      "q": "Exprimez $S_n - S_{n-1}$ en fonction de $u$.",
      "expected_keywords": ["u_n", "un"],
      "explanation": "La différence entre la somme des n premiers termes et celle des n-1 premiers est le terme ajouté : $u_n$.",
      "points": 10
    }
  ],
  "exercises": [
    {
      "q": "Suite Arithmético-Géométrique : Soit $u_{n+1} = 0,5u_n + 1$ et $v_n = u_n - 2$. Montrez que $v_n$ est géométrique.",
      "solution": "$v_{n+1} = u_{n+1} - 2 = (0,5u_n + 1) - 2 = 0,5u_n - 1$. <br> Factorisons par 0,5 : $0,5(u_n - 2) = 0,5v_n$. <br> Donc $(v_n)$ est géométrique de raison 0,5.",
      "time_limit_sec": 300,
      "points": 20
    },
    {
      "q": "Somme complexe : Calculez $S = 2 + 4 + 8 + ... + 256$.",
      "solution": "C'est une suite géométrique de raison 2 et 1er terme 2. <br> $256 = 2^8$, donc on va de $2^1$ à $2^8$. Il y a 8 termes. <br> $S = 2 \\times \\frac{1-2^8}{1-2} = 2 \\times (256 - 1) = 510$.",
      "time_limit_sec": 240,
      "points": 15
    },
    {
      "q": "Problème de seuil : On place 1000€ à 5% par an. Au bout de combien d'années le capital double-t-il ?",
      "solution": "On cherche $n$ tel que $1000 \\times 1,05^n \\ge 2000$, soit $1,05^n \\ge 2$. <br> À la calculatrice : $1,05^{14} \\approx 1,97$ et $1,05^{15} \\approx 2,07$. <br> Il faut attendre 15 ans.",
      "time_limit_sec": 300,
      "points": 15
    }
  ],
  "traps": [
    {
      "title": "Confusion $u_n + 1$ et $u_{n+1}$",
      "bad_reasoning": "Pour calculer $u_{n+1}$, j'ajoute 1 au résultat de $u_n$.",
      "error_analysis": "ERREUR : $u_{n+1}$ est le terme SUIVANT. $u_n + 1$ est le terme actuel auquel on ajoute 1. Ce sont deux choses très différentes.",
      "correct_formula": "Bien lire la position de l'indice.",
      "points": 10
    },
    {
      "title": "Le piège de la somme des puissances",
      "bad_reasoning": "$2^n + 2^n = 4^n$.",
      "error_analysis": "ERREUR : $x + x = 2x$. Donc $2^n + 2^n = 2 \\times 2^n = 2^{n+1}$.",
      "correct_formula": "$2^n + 2^n = 2^{n+1}$",
      "points": 10
    },
    {
      "title": "Le nombre de termes (Indices)",
      "bad_reasoning": "De $u_1$ à $u_n$, il y a $n-1$ termes.",
      "error_analysis": "ERREUR : De 1 à $n$, il y a $n$ termes. C'est de 0 à $n$ qu'il y en a $n+1$.",
      "correct_formula": "Toujours faire : Fin - Début + 1.",
      "points": 8
    },
    {
      "title": "Raison négative",
      "bad_reasoning": "Une suite géométrique de raison -2 est décroissante.",
      "error_analysis": "Faux. Elle alterne : 1, -2, 4, -8... Elle n'est ni croissante ni décroissante.",
      "correct_formula": "Non monotone.",
      "points": 10
    },
    {
      "title": "Pourcentages cumulés",
      "bad_reasoning": "Une hausse de 10% suivie d'une baisse de 10%, ça revient au départ.",
      "error_analysis": "ERREUR : $1,10 \\times 0,90 = 0,99$. On a perdu 1%.",
      "correct_formula": "Les coefficients multiplicateurs se multiplient.",
      "points": 10
    }
  ]
}
